#!/bin/bash

function GetLocation()
{
    :
}

function GetRegistry()
{
    local _resources=$1
    echo "us.icr.io/${_resources}"
}

function CopyData
{
    :
}

function GetPlatformContainer()
{
    docker pull ibmcom/ibm-cloud-developer-tools-amd64

}

function Login()
{
    local _container_name=$1
    local _container_mount=$2

    docker run \
        -it \
        -e IBMCLOUD_CONFIG_HOME=${_container_mount} \
        --name $_container_name \
        --label qi_container_type=login-config \
        --mount type=volume,target=${_container_mount} \
        ibmcom/ibm-cloud-developer-tools-amd64 \
            ibmcloud login --sso

    local _cmd_prefix="docker run \
        -e IBMCLOUD_CONFIG_HOME=${_container_mount} \
        --rm \
        --volumes-from ${_container_name} \
        ibmcom/ibm-cloud-developer-tools-amd64"

    IBMCLOUD="${_cmd_prefix} ibmcloud"
}

function Provision
{
    :
}

function PrepareDocker
{
    :
}

function Deploy
{
    :
}

function ConnectToServer
{
    :
}
